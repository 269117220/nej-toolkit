<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html;charset=UTF-8"/>
    <title>dataFilter</title>
  </head>
  <body>

    <script src="http://nej.netease.com/nej2/src/define.js?pro=../../src"></script> 
    <script type="text/javascript">

    define(["{pro}/chart/dataFilter.js"],function(mDataFilter){


  function rule(recordWithId, fieldName, fieldValue) {
    var record = recordWithId.data;
    return (record.sale === 150);

  };     var data = [
               {id:"a",data: {sale : 100, profit : 30, cost : 7.5, month : "Jan"}},
                {id:"b", data:{sale : 150, profit : 60, cost : 9.6, month : "Feb"}},
                // {sale : 70, profit : 10, cost : 3.5, month : "Mar"},
                // {sale : 90, profit : 20.3, cost : 2.6, month : "Apr"},
                // {sale : 60, profit : 10, cost : 1.2, month : "May"},
                // {sale : 120, profit : 60, cost : 9.2, month : "Jun"},
                // {sale : 180, profit : 90, cost : 4.5, month : "Jul"},
                // {sale : 100, profit : 50, cost : 7.2, month : "Aug"},
                // {sale : 220, profit : 110, cost : 12.4, month : "Sep"},
                // {sale : 250, profit : 100, cost : 22.2, month : "Oct"},
                // {sale : 140, profit : 400, cost : 13.5, month : "Nov"},
                {id:"c",data:{sale : 40, profit : 400, cost : 40, month : "Dec"}}
              ];
    var  dataFilter = new mDataFilter();
    // var newData =  dataFilter.filter(data);
    // console.log("初始过滤",newData)
    
    dataFilter.registerStandardRule({id:"qw",isOpen:true, fieldName:"month"});
    var newData1= dataFilter.filter(data);
     console.log("过滤month",newData1);
     dataFilter.registerStandardRule({id:"1w",isOpen:true, fieldName:"month",fieldValue:"Jan"});
     var newData2 =dataFilter.filter(data);
    console.log("删除Jan",newData2)
           

         
    });
    </script>
  </body>
</html>